#!/bin/sh
set -e

echo "Enabling probe-bootstrap and installer services..."
systemctl enable probe-bootstrap.service
systemctl enable probe-auto-install.service

echo "Installing additional Python dependencies via pip..."
# These might not be available as debian packages in the base mirror
pip3 install --break-system-packages \
    pynetbox \
    fastapi \
    pydantic \
    pydantic-settings \
    httpx \
    python-dotenv \
    python-json-logger

echo "Chroot hook completed successfully."
